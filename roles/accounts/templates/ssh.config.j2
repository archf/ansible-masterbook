### defaults for all ###
Host *
  User {{ item.name }}
  Port 22
  ForwardAgent no
  ForwardX11 no
  ForwardX11Trusted yes
  IdentityFile ~/.ssh/{{ item.name }}_{{ ansible_fqdn }}
  # enable multiplexing
  ControlPersist 10m
  ControlMaster auto
  ControlPath ~/.ssh/controlmasters/%r@%h:%p

### personal machines ###
{% if item.name == 'archf' %}
Host htpc
  ForwardX11 yes
  Hostname srv-htpc

Host rhtpc
  Hostname malfeo.hopto.org
  Port 22222

Host hgw
  Hostname OpenWrt
  User root
  IdentityFile ~/.ssh/gw-main

Host rhgw
  Hostname OpenWrt
  User root
  Port 22222

### public git repos ###

Host bitbucket.org
  HostName bitbucket.org
  User git
  PreferredAuthentications publickey
  IdentityFile ~/.ssh/{{ item.name }}_bitbucket_{{ ansible_fqdn }}

Host github.com
  Hostname github.com
  User git
  PreferredAuthentications publickey
  IdentityFile ~/.ssh/{{ item.name }}_github_{{ ansible_fqdn }}
{% endif %}

# cygwin ssh to local vm
Host devbox
  ForwardX11 yes
  Hostname localhost
  User archambf
  Port 22222
  IdentityFile ~/.ssh/devbox

### vagrant machines ###

Host dev1 172.16.2.160 vagant@172.16.2.160 mdns
  User vagrant
  Hostname 172.16.2.160
  # PreferredAuthentications publickey
  IdentityFile ~/.ssh/vagrant-ansible

Host dev2 172.16.2.161 vagant@172.16.2.161 sdns
  User vagrant
  Hostname 172.16.2.161
  # PreferredAuthentications publickey
  IdentityFile ~/.ssh/vagrant-ansible

### vl machines ###

{% if item.name == 'archambf' %}
Host as01
  Hostname 10.23.100.8
  User archambf

Host lv820
  Hostname 10.247.42.63
  User archambf
  PreferredAuthentications publickey
  IdentityFile ~/.ssh/vl-lb-hmv820
{% endif %}
